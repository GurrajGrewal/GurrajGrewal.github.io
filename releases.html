<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Releases - Gurraj Grewal</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" type="image/png" href="favicon.png">
</head>
<body>

<header class="navbar">
    <div class="logo">
        <a href="index.html">
            <img src="logo-big-tran.png" alt="Logo">
        </a>
    </div>

    <ul class="nav-center">
        <li><a href="home.html">Home</a></li>
        <li><a href="releases.html">Releases</a></li>
        <li><a href="announcements.html">Announcements</a></li>
        <li><a href="watch.html">Watch & Ratings</a></li>
    </ul>
</header>

<!-- ================= HERO SLIDER ================= -->

<section class="release-feature">

<div class="release-slider" id="slider">

    <!-- SLIDE 1 -->
    <div class="release-slide active">
        <div class="release-bg" style="background-image:url('HCMArt.png');"></div>
        <div class="release-overlay">
            <div class="release-left">
                <div class="release-meta">
                    <img src="yellowstar.png" class="star-icon">
                    <span>6.1     •     2022     •     1 Season</span>
                </div>

                <div class="release-logo">
                    <img src="HCMLogo.png">
                </div>

                <p class="release-description">
                    Violethyst and Sibashi enter each match with one goal: survive.
                </p>

                <div class="release-buttons">
                    <button class="play-btn">▶ Play</button>
                    <button class="info-btn">More Info</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 2 -->
    <div class="release-slide">
        <div class="release-bg" style="background-image:url('PRE-PARTYART.png');"></div>
        <div class="release-overlay">
            <div class="release-left">
                <div class="release-meta">
                    <img src="redstar.png" class="star-icon">
                    <span>4.7     •     2025     •     1 Season</span>
                </div>

                <div class="release-logo">
                    <img src="PRE-PARTYLOGO.png">
                </div>

                <p class="release-description">
                    A cinematic montage spinoff centered on Viouth.
                </p>

                <div class="release-buttons">
                    <button class="play-btn">▶ Play</button>
                    <button class="info-btn">More Info</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- SLIDE 3 -->
<div class="release-slide">
    <div class="release-bg" style="background-image:url('HCMAArt.png');"></div>
    <div class="release-overlay">
        <div class="release-left">
            <div class="release-meta">
                <img src="yellowstar.png" class="star-icon">
                <span>6.4 • 2025 • 1 Season</span>
            </div>

            <div class="release-logo">
                <img src="HCMALogo.png">
            </div>

            <p class="release-description">
                Three years later, Violethyst returns to the games.
                Revisiting the rivalry, the matches, and the momentum that started it all.
            </p>

            <div class="release-buttons">
                <button class="play-btn">▶ Play</button>
                <button class="info-btn">More Info</button>
            </div>
        </div>
    </div>
</div>
    

</div>

<div class="arrow-controls">
    <button class="arrow prev">‹</button>
    <button class="arrow next">›</button>
</div>

</section>

<!-- ================= EPISODE SECTION ================= -->

<section class="release-section">

<!-- Season Dropdown -->
<div class="season-bar hidden" id="seasonBar">

    <div class="season-selector" id="seasonSelector">
        <span id="currentSeasonLabel">Season 1</span>
        <span>▼</span>
    </div>

    <div class="season-dropdown hidden" id="seasonDropdown">
        <div class="season-option" data-season="1">Season 1</div>
    </div>

</div>

<!-- Episodes -->
<div class="episodes-row hidden" id="episodesRow">
    <div class="episodes-scroll" id="episodeContainer"></div>
</div>

<!-- Timeline -->
<div class="timeline-row">
    <h2 class="row-title">The Timeline</h2>
    <div class="timeline-scroll">
        <div class="timeline-card"><img src="white.png"></div>
        <div class="timeline-card"><img src="white.png"></div>
        <div class="timeline-card"><img src="white.png"></div>
    </div>
</div>

</section>

<script>

/* ================= SLIDER ================= */

const slides = document.querySelectorAll(".release-slide");
const nextBtn = document.querySelector(".next");
const prevBtn = document.querySelector(".prev");

let current = 0;
let autoSlideInterval;
let inEpisodeMode = false;

function showSlide(index){
    slides.forEach(s => s.classList.remove("active"));
    slides[index].classList.add("active");
}

function nextSlide(){
    current = (current + 1) % slides.length;
    showSlide(current);
}

function prevSlide(){
    current = (current - 1 + slides.length) % slides.length;
    showSlide(current);
}

/* ---------- AUTOSLIDE ---------- */

function startAutoSlide(){
    autoSlideInterval = setInterval(nextSlide, 5000);
}

function stopAutoSlide(){
    clearInterval(autoSlideInterval);
}

startAutoSlide();

/* ================= PROJECT DATA ================= */

const projectData = {
    0: {
        seasons: {
            1: [
                {number:1,title:"Couloir, Intro"},
                {number:2,title:"Japan & Shiawase"},
                {number:3,title:"Tell Me A Joke"},
                {number:4,title:"Under My Skin"},
                {number:5,title:"My Eyes"},
                {number:6,title:"Lean Wit Me"},
                {number:7,title:"Dustcutter"},
                {number:8,title:"Always Be My Fault"},
                {number:9,title:"Cinderella"},
                {number:10,title:"Drugs You Should Try It"}
            ]
        }
    }
};

/* ================= ELEMENTS ================= */

const playButtons = document.querySelectorAll(".play-btn");
const seasonBar = document.getElementById("seasonBar");
const episodesRow = document.getElementById("episodesRow");
const episodeContainer = document.getElementById("episodeContainer");

/* ================= LOAD EPISODES ================= */

function loadEpisodes(projectIndex, season){
    episodeContainer.innerHTML = "";

    const episodes = projectData[projectIndex]?.seasons[season];
    if(!episodes) return;

    episodes.forEach(ep=>{
        const card = document.createElement("div");
        card.classList.add("episode-card");

        card.innerHTML = `
            <img src="white.png">
            <div class="episode-meta">
                <span class="episode-number">Episode ${ep.number}</span>
                <span class="episode-title">${ep.title}</span>
            </div>
        `;

        episodeContainer.appendChild(card);
    });
}

/* ================= PLAY BUTTON ================= */

playButtons.forEach((btn,index)=>{
    btn.addEventListener("click",()=>{

        stopAutoSlide();
        inEpisodeMode = true;

        seasonBar.classList.remove("hidden");
        episodesRow.classList.remove("hidden");

        loadEpisodes(index,1);

        episodesRow.scrollIntoView({behavior:"smooth"});
    });
});

/* ================= ARROWS BEHAVIOR SWITCH ================= */

nextBtn.addEventListener("click",()=>{
    if(!inEpisodeMode){
        nextSlide();
    } else {
        episodeContainer.scrollBy({
            left: 400,
            behavior: "smooth"
        });
    }
});

prevBtn.addEventListener("click",()=>{
    if(!inEpisodeMode){
        prevSlide();
    } else {
        episodeContainer.scrollBy({
            left: -400,
            behavior: "smooth"
        });
    }
});

</script>


