<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Releases - Gurraj Grewal</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>

<header class="navbar">
    <div class="logo">
        <a href="index.html">
            <img src="logo-big-tran.png" alt="Logo">
        </a>
    </div>

    <ul class="nav-center">
        <li><a href="home.html">Home</a></li>
        <li><a href="releases.html">Releases</a></li>
        <li><a href="announcements.html">Announcements</a></li>
        <li><a href="watch.html">Watch & Ratings</a></li>
    </ul>
</header>

<section class="release-feature">

    <div class="release-slider" id="slider">

        <!-- SLIDE 1 -->
        <div class="release-slide">
            <div class="release-bg" style="background-image: url('HCMArt.png');"></div>

            <div class="release-overlay">
                <div class="release-left">
                    
                    <div class="release-meta">
                        <img src="yellowstar.png" class="star-icon">
                        <span>6.1</span>
                        <span class="dot">•</span>
                        <span>2022</span>
                        <span class="dot">•</span>
                        <span>1 Season</span>
                    </div>

                    <div class="release-logo">
                        <img src="HCMLogo.png">
                    </div>

                    <div class="release-description">
                        <p>
                        Violethyst and Sibashi enter each match with one goal: survive. 
                        In a world where a single mistake ends the game, teamwork is the only way out.
                        </p>
                    </div>

                    <div class="release-buttons">
                        <button class="play-btn">▶ Play</button>
                        <button class="info-btn">More Info</button>
                        <button class="preview-btn">Preview</button>
                    </div>

                </div>
            </div>
        </div>

        <!-- SLIDE 2 -->
        <div class="release-slide">
            <div class="release-bg" style="background-image: url('PRE-PARTYART.png');"></div>

            <div class="release-overlay">
                <div class="release-left">
                    
                    <div class="release-meta">
                        <img src="redstar.png" class="star-icon">
                        <span>4.7</span>
                        <span class="dot">•</span>
                        <span>2025</span>
                        <span class="dot">•</span>
                        <span>1 Season</span>
                    </div>

                    <div class="release-logo">
                        <img src="PRE-PARTYLOGO.png">
                    </div>

                    <div class="release-description">
                        <p>
                        A Hypixel Cinematic Montage Series spinoff centered on Viouth, a variant of Violethyst. 
                        Introducing tracks from The Weeknd's Hurry Up Tomorrow album turned into montages.
                        </p>
                    </div>

                    <div class="release-buttons">
                        <button class="play-btn">▶ Play</button>
                        <button class="info-btn">More Info</button>
                        <button class="preview-btn">Preview</button>
                    </div>

                </div>
            </div>
        </div>

        <!-- SLIDE 3 -->
        <div class="release-slide">
            <div class="release-bg" style="background-image: url('HCMAArt.png');"></div>

            <div class="release-overlay">
                <div class="release-left">

                    <div class="release-meta">
                        <img src="yellowstar.png" class="star-icon">
                        <span>6.4</span>
                        <span class="dot">•</span>
                        <span>2025</span>
                        <span class="dot">•</span>
                        <span>1 Season</span>
                    </div>

                    <div class="release-logo">
                        <img src="HCMALogo.png">
                    </div>

                    <div class="release-description">
                        <p>
                        Three years later, Violethyst returns to the games. 
                        Revisiting the rivalry, the matches, and the momentum that started it all.
                        </p>
                    </div>

                    <div class="release-buttons">
                        <button class="play-btn">▶ Play</button>
                        <button class="info-btn">More Info</button>
                        <button class="preview-btn">Preview</button>
                    </div>

                </div>
            </div>
        </div>

    </div>

    <!-- GLOBAL ARROWS -->
    <div class="arrow-controls">
        <button class="arrow prev">‹</button>
        <button class="arrow next">›</button>
    </div>

</section>

<section class="release-row" id="releaseRow">

    <!-- DEFAULT VIEW -->
    <div id="timelineView">
        <h2 class="row-title">The Timeline</h2>
        <div class="release-scroll">
            <div class="release-card"><img src="white.png"></div>
            <div class="release-card"><img src="white.png"></div>
            <div class="release-card"><img src="white.png"></div>
        </div>
    </div>

    <!-- SEASON VIEW -->
    <div id="seasonView" class="hidden">

        <h2 class="row-title season-header">
            &#9776; Season 1
        </h2>

        <div class="release-scroll small-episodes" id="episodeContainer">
            <!-- Episodes injected by JS -->
        </div>

    </div>

</section>


<script>
const slider = document.getElementById("slider");
const slides = document.querySelectorAll(".release-slide");
const nextBtn = document.querySelector(".next");
const prevBtn = document.querySelector(".prev");

const playButtons = document.querySelectorAll(".play-btn");
const timelineView = document.getElementById("timelineView");
const seasonView = document.getElementById("seasonView");
const releaseRow = document.getElementById("releaseRow");
const episodeContainer = document.getElementById("episodeContainer");

let currentIndex = 0;
let autoSlideInterval;
let autoSliding = true;

/* ========================= */
/* SLIDER LOGIC */
/* ========================= */

function updateSlider() {
    const slideWidth = slides[0].clientWidth;
    slider.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
}

function nextSlide() {
    currentIndex = (currentIndex + 1) % slides.length;
    updateSlider();
}

function prevSlide() {
    currentIndex = (currentIndex - 1 + slides.length) % slides.length;
    updateSlider();
}

nextBtn.addEventListener("click", () => {
    nextSlide();
});

prevBtn.addEventListener("click", () => {
    prevSlide();
});

function startAutoSlide() {
    autoSlideInterval = setInterval(nextSlide, 5000);
}

function stopAutoSlide() {
    clearInterval(autoSlideInterval);
    autoSliding = false;
}

window.addEventListener("resize", updateSlider);
updateSlider();
startAutoSlide();

/* ========================= */
/* EPISODE DATA (SCALABLE) */
/* ========================= */

const projects = {
    0: [
        { number: 1, title: "The Beginning" },
        { number: 2, title: "First Blood" },
        { number: 3, title: "Final Stand" }
    ],
    1: [
        { number: 1, title: "Variant Arrival" },
        { number: 2, title: "Montage Protocol" },
        { number: 3, title: "Hurry Up Tomorrow" }
    ],
    2: [
        { number: 1, title: "Return of Violethyst" },
        { number: 2, title: "The Rivalry" },
        { number: 3, title: "Momentum Restored" }
    ]
};

/* ========================= */
/* PLAY BUTTON LOGIC */
/* ========================= */

playButtons.forEach((btn, index) => {
    btn.addEventListener("click", () => {

        // STOP AUTO SLIDE
        if (autoSliding) stopAutoSlide();

        // Hide timeline, show season view
        timelineView.classList.add("hidden");
        seasonView.classList.remove("hidden");

        // Move section down
        releaseRow.style.transform = "translateY(40px)";

        // Load correct project episodes
        loadEpisodes(index);

        // Scroll to it
        seasonView.scrollIntoView({ behavior: "smooth" });
    });
});

/* ========================= */
/* LOAD EPISODES */
/* ========================= */

function loadEpisodes(projectIndex) {

    episodeContainer.innerHTML = "";

    projects[projectIndex].forEach(ep => {

        const card = document.createElement("div");
        card.classList.add("release-card");

        card.innerHTML = `
            <img src="white.png">
            <div class="episode-meta">
                <span class="episode-number">Episode ${ep.number}:</span>
                <span class="episode-title">${ep.title}</span>
            </div>
        `;

        episodeContainer.appendChild(card);
    });
}
</script>


